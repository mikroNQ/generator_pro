# BarGen

Генератор штрихкодов и DataMatrix кодов для тестирования сканеров и кассового оборудования.

## Возможности

### DataMatrix
- Генерация DataMatrix кодов для маркировки товаров
- Шаблоны: Тип 1 (Табак/Вода), Тип 2 (Одежда/Обувь)
- Автоматическая ротация с настраиваемым интервалом
- Ручная навигация стрелками
- Кэширование сгенерированных кодов

### Библиотека
- Хранение GTIN кодов в папках
- Массовое добавление баркодов
- Экспорт/импорт данных (JSON)
- История последних 50 генераций

### Весовые штрихкоды
Генерация штрихкодов с различными префиксами:
- `47` - Code128 штучный (19 символов)
- `49` - Code128 весовой со скидкой (19 символов)
- `44` - Code128 с ценой (19 символов)
- `77` - Code128 CAS (16 символов)
- `22` - EAN-13 весовой (13 символов)

### Конструктор
- Генерация простых штрихкодов: Code128, EAN-13, UPC, ITF-14
- Сохранение в папки
- Редактирование кода и названия

### Карусель (Весовые)
- Массовая генерация весовых штрихкодов по PLU
- Режимы веса: случайный диапазон / фиксированный
- Режимы скидки: фиксированная / случайная (для префикса 49)
- Автоматическая ротация с анимацией
- Ручная навигация стрелками и клавиатурой

## Технологии

- Vanilla JavaScript (ES5)
- [bwip-js](https://github.com/metafloor/bwip-js) - генерация DataMatrix
- [JsBarcode](https://github.com/lindell/JsBarcode) - генерация линейных штрихкодов
- LocalStorage для хранения данных
- CSS Glassmorphism дизайн

## Структура проекта

```
/
├── index.html              # Главный HTML файл
├── css/
│   └── main.css            # Стили
├── js/
│   ├── app/                # Ядро приложения
│   │   ├── config.js       # Конфигурация и константы
│   │   ├── utils.js        # Утилиты
│   │   ├── state.js        # Состояние приложения
│   │   └── storage.js      # Работа с LocalStorage
│   ├── generators/
│   │   └── generators.js   # Генерация кодов
│   ├── ui/
│   │   └── ui.js           # Рендеринг UI
│   ├── controllers/        # Контроллеры вкладок
│   │   ├── dm.controller.js
│   │   ├── wc.controller.js
│   │   ├── sg.controller.js
│   │   ├── barcode.controller.js
│   │   ├── tab.controller.js
│   │   └── library.controller.js
│   └── main.js             # Точка входа
├── assets/
│   └── logo.png            # Логотип
├── .claude/
│   └── ARCHITECTURE.md     # Документация для AI
└── README.md               # Документация
```

## Установка

1. Скачайте файлы проекта
2. Откройте `index.html` в браузере

Или разместите на любом веб-сервере / GitHub Pages.

## Локальная разработка

```bash
# Python 3
python -m http.server 8000

# Node.js
npx serve

# Затем откройте http://localhost:8000
```

## Использование

### Быстрый старт
1. Откройте вкладку **DataMatrix**
2. Код генерируется автоматически каждые 0.7 сек
3. Наведите сканер на экран

### Работа с весовыми штрихкодами
1. Перейдите на вкладку **Карусель**
2. Введите название папки и PLU коды
3. Выберите префиксы (77, 22, 49)
4. Настройте диапазон веса
5. Нажмите **Добавить**
6. Выберите папку и нажмите **Старт**

### Горячие клавиши
- `←` `→` - навигация по штрихкодам (когда таймер остановлен)

## Резервное копирование

Данные хранятся в LocalStorage браузера. Для переноса:
1. Вкладка **Библиотека** → **Скачать** (экспорт JSON)
2. На новом устройстве → **Загрузить** (импорт JSON)

## Для разработчиков

Смотрите `.claude/ARCHITECTURE.md` для детальной документации по архитектуре проекта.

## Лицензия

MIT License
